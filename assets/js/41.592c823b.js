(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{629:function(s,t,n){"use strict";n.r(t);var a=n(5),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lemonnuu/PicGoPictureBed/markdown/webpack/0004-webpack%E5%AE%98%E7%BD%91%E5%9B%BE.png",alt:"0004-webpack官网图"}})]),s._v(" "),n("h2",{attrs:{id:"配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),n("p",[n("strong",[s._v("development(开发环境)和production(生产环境)的构建目标存在着巨大差异。")])]),s._v(" "),n("p",[s._v("在开发环境中, 可能需要强大的 source map 和一个有着 live reloading(实时重新加载) 或 hot module replacement(热模块替换) 能力的 localhost server。\n而生产环境目标则转移到了其它方面, 例如压缩 bundle, 更轻量的 source map, 资源优化等。")]),s._v(" "),n("p",[n("strong",[s._v("由于要遵循逻辑分离, 建议为每个环境编写彼此独立的 webpack 配置。")])]),s._v(" "),n("h3",{attrs:{id:"webpack-merge"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-merge"}},[s._v("#")]),s._v(" webpack-merge")]),s._v(" "),n("p",[s._v("现在, 保留一个 common (通用配置), 差异部分分别为 webpack.dev.js 与 webpack.prod.js。")]),s._v(" "),n("p",[n("code",[s._v("webpack-merge")]),s._v(" 工具可以将这些配置合并在一起：")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" webpack-merge -D\n")])])]),n("p",[s._v("package")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" webpack-demo\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- /node_modules\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- package.json\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- package-lock.json\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- /src\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   |- index.js\n")])]),n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.config.js\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.common.js\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.dev.js\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.prod.js\n")])])])])]),n("p",[s._v("webpack.common.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const path = require('path');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const HtmlWebpackPlugin = require('html-webpack-plugin');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   entry: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     app: './src/index.js',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   plugins: [\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     new HtmlWebpackPlugin({\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("       title: 'Production',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     }),\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   ],\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   output: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     filename: '[name].bundle.js',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     path: path.resolve(__dirname, 'dist'),\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     clean: true,\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" };\n")])])])])]),n("p",[s._v("webpack.dev.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const { merge } = require('webpack-merge');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const common = require('./webpack.common.js');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = merge(common, {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   mode: 'development',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   devtool: 'inline-source-map',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   devServer: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     static: './dist',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" });\n")])])])])]),n("p",[s._v("webpack.prod.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const { merge } = require('webpack-merge');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const common = require('./webpack.common.js');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = merge(common, {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   mode: 'production',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" });\n")])])])])]),n("p",[s._v("package.json")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[s._v("{\n"),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" ...\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "scripts": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "build": "webpack",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "dev": "webpack --config webpack.dev.js",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "prod": "webpack --config webpack.dev.js"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" },\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" ...\n")])]),s._v("}\n")])])]),n("p",[s._v("这样一来, 便可很好管理开发配置与生产配置 💋 💋 💋")]),s._v(" "),n("h2",{attrs:{id:"指定-mode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指定-mode"}},[s._v("#")]),s._v(" 指定 mode")]),s._v(" "),n("p",[s._v("许多 library 通过与 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 环境变量关联，以决定 library 中应该引用哪些内容。")]),s._v(" "),n("p",[s._v("例如，当 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 没有被设置为 'production' 时，某些 library 为了使调试变得容易，可能会添加额外的 log(日志记录) 和 test(测试) 功能。\n并且，在使用 "),n("code",[s._v("process.env.NODE_ENV === 'production'")]),s._v(" 时，一些 library 可能针对具体用户的环境，删除或添加一些重要代码，以进行代码执行方面的优化。")]),s._v(" "),n("p",[n("strong",[s._v("从 webpack v4 开始, 指定 mode 会自动地配置 "),n("code",[s._v("DefinePlugin")])])]),s._v(" "),n("p",[s._v("webpack.config.js")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("ul",[n("li",[s._v("当 "),n("code",[s._v("mode === production")]),s._v(" 时, "),n("code",[s._v("process.env.NODE_ENV === production")])]),s._v(" "),n("li",[s._v("当 "),n("code",[s._v("mode === development")]),s._v(" 时, "),n("code",[s._v("process.env.NODE_ENV === development")])])]),s._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"title"},[s._v("webpack.config.js 中没有 process.env.NODE_ENV")]),n("p",[s._v("从技术上讲, "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 是一个 "),n("strong",[s._v("Node.js 暴露给执行脚本的系统环境变量")]),s._v("。\n通常用于决定在开发环境与生产环境下, server tools(服务器工具)、build scripts(构建脚本) 和 clientside libraries(客户端库)的行为。")]),s._v(" "),n("p",[s._v("在构建脚本 "),n("code",[s._v("webpack.config.js")]),s._v(" 中, "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 并没有被设置为 'production'。")]),s._v(" "),n("p",[s._v("因此, 在 webpack 配置文件中, "),n("code",[s._v("process.env.NODE_ENV === 'production' ? '[name].[contenthash].bundle.js' : '[name].bundle.js'")]),s._v(" 这样的条件语句，无法按照预期运行。")]),s._v(" "),n("p",[s._v("可以理解为 "),n("code",[s._v("webpack(config)")]),s._v(" 都还没有执行, "),n("code",[s._v("DefinePlugin")]),s._v(" 都还没发挥作用, 哪来的 "),n("code",[s._v("process.env.NODE_ENV")]),s._v("。\n但是任何业务代码(/src)都可以关联到 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(", 诸如这样：")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Looks like we are in development mode!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("如果配置文件需要判断的话, 可以借助环境变量实现 ❗️")])]),n("h3",{attrs:{id:"process-env-node-env"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#process-env-node-env"}},[s._v("#")]),s._v(" process.env.NODE_ENV")]),s._v(" "),n("p",[n("strong",[s._v("在 node 中, 全局变量 "),n("code",[s._v("process")]),s._v(" 表示的是当前 node 进程。")])]),s._v(" "),n("p",[n("strong",[n("code",[s._v("process.env")]),s._v(" 包含很多关于系统环境的信息, 但是并不存在 "),n("code",[s._v("NODE_ENV")]),s._v(" 这个东西")]),s._v(" ❗️")]),s._v(" "),n("p",[n("strong",[s._v("NODE_ENV 是用户自定义的变量, 在 webpack 中用于判断开发环境与生产环境。")])]),s._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[s._v("可以看一下 process 或 process.env 中有什么东西")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("PS C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\Desktop\\test> node\nWelcome to Node.js v14.17.6.\nType \".help\" for more information.\n> console.log(process.env)\n{\n  ALLUSERSPROFILE: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ProgramData"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  APPDATA: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Roaming"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  CommonProgramFiles: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  'CommonProgramFiles(x86)': 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files (x86)"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  CommonProgramW6432: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  COMPUTERNAME: 'LAPTOP-SJRR1F9B',\n  ComSpec: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("system32"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("cmd.exe',\n  DacsSdkPath: 'D:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("dacs install"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DataCloak_DCube"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Bin"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DacsSdk',\n  DriverData: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Windows"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Drivers"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DriverData',\n  HOMEDRIVE: 'C:',\n  HOMEPATH: \"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\",\n  LOCALAPPDATA: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Local"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  LOGONSERVER: '"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("LAPTOP-SJRR1F9B',\n  NUMBER_OF_PROCESSORS: '16',\n  OneDrive: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\OneDrive\",\n  OneDriveConsumer: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("OneDrive"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  OS: 'Windows_NT',\n  Path: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("system32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Wbem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WindowsPowerShell"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("v1.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("OpenSSH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Git install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Git"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cmd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Node install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Wechat devtool install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("微信web开发者\n工具"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dll"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Xshell7 install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;D:\\\\VSCode install\\\\Microsoft VS Code\\\\bin;C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Roaming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("npm"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  PATHEXT: '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL',\n  PROCESSOR_ARCHITECTURE: 'AMD64',\n  PROCESSOR_IDENTIFIER: 'AMD64 Family 23 Model 104 Stepping 1, AuthenticAMD',\n  PROCESSOR_LEVEL: '23',\n  PROCESSOR_REVISION: '6801',\n  ProgramData: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("ProgramData',\n  ProgramFiles: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files',\n  'ProgramFiles(x86)': 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files (x86)',\n  ProgramW6432: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files',\n  PSModulePath: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\Documents\\\\WindowsPowerShell\\\\Modules;C:\\\\Program Files\\\\WindowsPowerShell\\\\Modules;C:\\\\WINDOWS\\\\system32\\\\WindowsPowerShell\\\\v1.0\\\\Modules\",\n  PUBLIC: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Public"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  SystemDrive: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  SystemRoot: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  TEMP: \"C:\\\\Users\\\\AN'")]),s._v("AN"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~1\\\\AppData\\\\Local\\\\Temp\",\n  TMP: \"C:\\\\Users\\\\AN'")]),s._v("AN"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~1\\\\AppData\\\\Local\\\\Temp\",\n  USERDOMAIN: '")]),s._v("LAPTOP-SJRR1F9B"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  USERDOMAIN_ROAMINGPROFILE: '")]),s._v("LAPTOP-SJRR1F9B"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  USERNAME: \"an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n  USERPROFILE: "')]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\",\n  windir: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WSLENV: '")]),s._v("WT_SESSION::WT_PROFILE_ID"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WT_PROFILE_ID: '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("61c54bbd-c2c6-5271-96e7-009a87ff44bf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WT_SESSION: '")]),s._v("c3446c12-acdd-4394-a99c-f7ca3c3b8b3e'\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),n("p",[s._v("那么 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 怎么配置 ❓")]),s._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"title"}),n("p",[s._v("手动将 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 设置为 "),n("code",[s._v("production")]),s._v(" 后，所有的项目都会处于正式环境中。\n此时使用命令 "),n("code",[s._v("npm install")]),s._v(" 下载依赖包时，只会把 package.json 中的 dependencies 依赖项下载下来, 对于devDependencies中的依赖包是下载不下来的。")])]),n("p",[s._v("一般不用去特意手动配置它, 它是一个与进程相关的用户自定义环境变量, 只需要知道 webpack 指定 mode 会自动地配置 "),n("code",[s._v("DefinePlugin")]),s._v(",\n而 "),n("code",[s._v("DefinePlugin")]),s._v(" 会在编译时帮我们设置这个进程的 "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" 即可, 同样像 vue-cli 这样的脚手架内部也帮我们处理好了。")]),s._v(" "),n("p",[s._v("如果实在想手动配置, 就百度吧, 有点懒, 不想写...... 🌑 🌕")]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("顺带提一嘴")]),n("p",[n("code",[s._v("process.argv")]),s._v(" 是一个接收通过命令执行 node 程序时候所传入参数的数组。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);