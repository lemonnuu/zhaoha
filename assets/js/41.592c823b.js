(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{629:function(s,t,n){"use strict";n.r(t);var a=n(5),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lemonnuu/PicGoPictureBed/markdown/webpack/0004-webpack%E5%AE%98%E7%BD%91%E5%9B%BE.png",alt:"0004-webpackå®˜ç½‘å›¾"}})]),s._v(" "),n("h2",{attrs:{id:"é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[s._v("#")]),s._v(" é…ç½®")]),s._v(" "),n("p",[n("strong",[s._v("development(å¼€å‘ç¯å¢ƒ)å’Œproduction(ç”Ÿäº§ç¯å¢ƒ)çš„æ„å»ºç›®æ ‡å­˜åœ¨ç€å·¨å¤§å·®å¼‚ã€‚")])]),s._v(" "),n("p",[s._v("åœ¨å¼€å‘ç¯å¢ƒä¸­, å¯èƒ½éœ€è¦å¼ºå¤§çš„ source map å’Œä¸€ä¸ªæœ‰ç€ live reloading(å®æ—¶é‡æ–°åŠ è½½) æˆ– hot module replacement(çƒ­æ¨¡å—æ›¿æ¢) èƒ½åŠ›çš„ localhost serverã€‚\nè€Œç”Ÿäº§ç¯å¢ƒç›®æ ‡åˆ™è½¬ç§»åˆ°äº†å…¶å®ƒæ–¹é¢, ä¾‹å¦‚å‹ç¼© bundle, æ›´è½»é‡çš„ source map, èµ„æºä¼˜åŒ–ç­‰ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("ç”±äºè¦éµå¾ªé€»è¾‘åˆ†ç¦», å»ºè®®ä¸ºæ¯ä¸ªç¯å¢ƒç¼–å†™å½¼æ­¤ç‹¬ç«‹çš„ webpack é…ç½®ã€‚")])]),s._v(" "),n("h3",{attrs:{id:"webpack-merge"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-merge"}},[s._v("#")]),s._v(" webpack-merge")]),s._v(" "),n("p",[s._v("ç°åœ¨, ä¿ç•™ä¸€ä¸ª common (é€šç”¨é…ç½®), å·®å¼‚éƒ¨åˆ†åˆ†åˆ«ä¸º webpack.dev.js ä¸ webpack.prod.jsã€‚")]),s._v(" "),n("p",[n("code",[s._v("webpack-merge")]),s._v(" å·¥å…·å¯ä»¥å°†è¿™äº›é…ç½®åˆå¹¶åœ¨ä¸€èµ·ï¼š")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" webpack-merge -D\n")])])]),n("p",[s._v("package")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" webpack-demo\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- /node_modules\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- package.json\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- package-lock.json\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- /src\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   |- index.js\n")])]),n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.config.js\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.common.js\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.dev.js\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" |- webpack.prod.js\n")])])])])]),n("p",[s._v("webpack.common.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const path = require('path');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const HtmlWebpackPlugin = require('html-webpack-plugin');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   entry: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     app: './src/index.js',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   plugins: [\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     new HtmlWebpackPlugin({\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("       title: 'Production',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     }),\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   ],\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   output: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     filename: '[name].bundle.js',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     path: path.resolve(__dirname, 'dist'),\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     clean: true,\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" };\n")])])])])]),n("p",[s._v("webpack.dev.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const { merge } = require('webpack-merge');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const common = require('./webpack.common.js');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = merge(common, {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   mode: 'development',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   devtool: 'inline-source-map',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   devServer: {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("     static: './dist',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   },\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" });\n")])])])])]),n("p",[s._v("webpack.prod.js")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const { merge } = require('webpack-merge');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const common = require('./webpack.common.js');\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" module.exports = merge(common, {\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   mode: 'production',\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" });\n")])])])])]),n("p",[s._v("package.json")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[s._v("{\n"),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" ...\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "scripts": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "build": "webpack",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "dev": "webpack --config webpack.dev.js",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v('   "prod": "webpack --config webpack.dev.js"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" },\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" ...\n")])]),s._v("}\n")])])]),n("p",[s._v("è¿™æ ·ä¸€æ¥, ä¾¿å¯å¾ˆå¥½ç®¡ç†å¼€å‘é…ç½®ä¸ç”Ÿäº§é…ç½® ğŸ’‹ ğŸ’‹ ğŸ’‹")]),s._v(" "),n("h2",{attrs:{id:"æŒ‡å®š-mode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŒ‡å®š-mode"}},[s._v("#")]),s._v(" æŒ‡å®š mode")]),s._v(" "),n("p",[s._v("è®¸å¤š library é€šè¿‡ä¸ "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" ç¯å¢ƒå˜é‡å…³è”ï¼Œä»¥å†³å®š library ä¸­åº”è¯¥å¼•ç”¨å“ªäº›å†…å®¹ã€‚")]),s._v(" "),n("p",[s._v("ä¾‹å¦‚ï¼Œå½“ "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" æ²¡æœ‰è¢«è®¾ç½®ä¸º 'production' æ—¶ï¼ŒæŸäº› library ä¸ºäº†ä½¿è°ƒè¯•å˜å¾—å®¹æ˜“ï¼Œå¯èƒ½ä¼šæ·»åŠ é¢å¤–çš„ log(æ—¥å¿—è®°å½•) å’Œ test(æµ‹è¯•) åŠŸèƒ½ã€‚\nå¹¶ä¸”ï¼Œåœ¨ä½¿ç”¨ "),n("code",[s._v("process.env.NODE_ENV === 'production'")]),s._v(" æ—¶ï¼Œä¸€äº› library å¯èƒ½é’ˆå¯¹å…·ä½“ç”¨æˆ·çš„ç¯å¢ƒï¼Œåˆ é™¤æˆ–æ·»åŠ ä¸€äº›é‡è¦ä»£ç ï¼Œä»¥è¿›è¡Œä»£ç æ‰§è¡Œæ–¹é¢çš„ä¼˜åŒ–ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("ä» webpack v4 å¼€å§‹, æŒ‡å®š mode ä¼šè‡ªåŠ¨åœ°é…ç½® "),n("code",[s._v("DefinePlugin")])])]),s._v(" "),n("p",[s._v("webpack.config.js")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("ul",[n("li",[s._v("å½“ "),n("code",[s._v("mode === production")]),s._v(" æ—¶, "),n("code",[s._v("process.env.NODE_ENV === production")])]),s._v(" "),n("li",[s._v("å½“ "),n("code",[s._v("mode === development")]),s._v(" æ—¶, "),n("code",[s._v("process.env.NODE_ENV === development")])])]),s._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"title"},[s._v("webpack.config.js ä¸­æ²¡æœ‰ process.env.NODE_ENV")]),n("p",[s._v("ä»æŠ€æœ¯ä¸Šè®², "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" æ˜¯ä¸€ä¸ª "),n("strong",[s._v("Node.js æš´éœ²ç»™æ‰§è¡Œè„šæœ¬çš„ç³»ç»Ÿç¯å¢ƒå˜é‡")]),s._v("ã€‚\né€šå¸¸ç”¨äºå†³å®šåœ¨å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒä¸‹, server tools(æœåŠ¡å™¨å·¥å…·)ã€build scripts(æ„å»ºè„šæœ¬) å’Œ clientside libraries(å®¢æˆ·ç«¯åº“)çš„è¡Œä¸ºã€‚")]),s._v(" "),n("p",[s._v("åœ¨æ„å»ºè„šæœ¬ "),n("code",[s._v("webpack.config.js")]),s._v(" ä¸­, "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" å¹¶æ²¡æœ‰è¢«è®¾ç½®ä¸º 'production'ã€‚")]),s._v(" "),n("p",[s._v("å› æ­¤, åœ¨ webpack é…ç½®æ–‡ä»¶ä¸­, "),n("code",[s._v("process.env.NODE_ENV === 'production' ? '[name].[contenthash].bundle.js' : '[name].bundle.js'")]),s._v(" è¿™æ ·çš„æ¡ä»¶è¯­å¥ï¼Œæ— æ³•æŒ‰ç…§é¢„æœŸè¿è¡Œã€‚")]),s._v(" "),n("p",[s._v("å¯ä»¥ç†è§£ä¸º "),n("code",[s._v("webpack(config)")]),s._v(" éƒ½è¿˜æ²¡æœ‰æ‰§è¡Œ, "),n("code",[s._v("DefinePlugin")]),s._v(" éƒ½è¿˜æ²¡å‘æŒ¥ä½œç”¨, å“ªæ¥çš„ "),n("code",[s._v("process.env.NODE_ENV")]),s._v("ã€‚\nä½†æ˜¯ä»»ä½•ä¸šåŠ¡ä»£ç (/src)éƒ½å¯ä»¥å…³è”åˆ° "),n("code",[s._v("process.env.NODE_ENV")]),s._v(", è¯¸å¦‚è¿™æ ·ï¼š")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Looks like we are in development mode!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("å¦‚æœé…ç½®æ–‡ä»¶éœ€è¦åˆ¤æ–­çš„è¯, å¯ä»¥å€ŸåŠ©ç¯å¢ƒå˜é‡å®ç° â—ï¸")])]),n("h3",{attrs:{id:"process-env-node-env"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#process-env-node-env"}},[s._v("#")]),s._v(" process.env.NODE_ENV")]),s._v(" "),n("p",[n("strong",[s._v("åœ¨ node ä¸­, å…¨å±€å˜é‡ "),n("code",[s._v("process")]),s._v(" è¡¨ç¤ºçš„æ˜¯å½“å‰ node è¿›ç¨‹ã€‚")])]),s._v(" "),n("p",[n("strong",[n("code",[s._v("process.env")]),s._v(" åŒ…å«å¾ˆå¤šå…³äºç³»ç»Ÿç¯å¢ƒçš„ä¿¡æ¯, ä½†æ˜¯å¹¶ä¸å­˜åœ¨ "),n("code",[s._v("NODE_ENV")]),s._v(" è¿™ä¸ªä¸œè¥¿")]),s._v(" â—ï¸")]),s._v(" "),n("p",[n("strong",[s._v("NODE_ENV æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡, åœ¨ webpack ä¸­ç”¨äºåˆ¤æ–­å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒã€‚")])]),s._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[s._v("å¯ä»¥çœ‹ä¸€ä¸‹ process æˆ– process.env ä¸­æœ‰ä»€ä¹ˆä¸œè¥¿")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("PS C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\Desktop\\test> node\nWelcome to Node.js v14.17.6.\nType \".help\" for more information.\n> console.log(process.env)\n{\n  ALLUSERSPROFILE: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ProgramData"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  APPDATA: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Roaming"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  CommonProgramFiles: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  'CommonProgramFiles(x86)': 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files (x86)"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  CommonProgramW6432: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Common Files',\n  COMPUTERNAME: 'LAPTOP-SJRR1F9B',\n  ComSpec: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("system32"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("cmd.exe',\n  DacsSdkPath: 'D:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("dacs install"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DataCloak_DCube"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Bin"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DacsSdk',\n  DriverData: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Windows"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Drivers"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("DriverData',\n  HOMEDRIVE: 'C:',\n  HOMEPATH: \"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\",\n  LOCALAPPDATA: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Local"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  LOGONSERVER: '"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("LAPTOP-SJRR1F9B',\n  NUMBER_OF_PROCESSORS: '16',\n  OneDrive: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\OneDrive\",\n  OneDriveConsumer: \"C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("OneDrive"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  OS: 'Windows_NT',\n  Path: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("system32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Wbem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WindowsPowerShell"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("v1.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("OpenSSH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Git install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Git"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cmd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Node install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Wechat devtool install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("å¾®ä¿¡webå¼€å‘è€…\nå·¥å…·"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dll"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Xshell7 install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;D:\\\\VSCode install\\\\Microsoft VS Code\\\\bin;C:\\\\Users\\\\an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Roaming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("npm"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\",\n  PATHEXT: '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL',\n  PROCESSOR_ARCHITECTURE: 'AMD64',\n  PROCESSOR_IDENTIFIER: 'AMD64 Family 23 Model 104 Stepping 1, AuthenticAMD',\n  PROCESSOR_LEVEL: '23',\n  PROCESSOR_REVISION: '6801',\n  ProgramData: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("ProgramData',\n  ProgramFiles: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files',\n  'ProgramFiles(x86)': 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files (x86)',\n  ProgramW6432: 'C:"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("Program Files',\n  PSModulePath: \"")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\\\\Documents\\\\WindowsPowerShell\\\\Modules;C:\\\\Program Files\\\\WindowsPowerShell\\\\Modules;C:\\\\WINDOWS\\\\system32\\\\WindowsPowerShell\\\\v1.0\\\\Modules\",\n  PUBLIC: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Public"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  SystemDrive: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  SystemRoot: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  TEMP: \"C:\\\\Users\\\\AN'")]),s._v("AN"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~1\\\\AppData\\\\Local\\\\Temp\",\n  TMP: \"C:\\\\Users\\\\AN'")]),s._v("AN"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~1\\\\AppData\\\\Local\\\\Temp\",\n  USERDOMAIN: '")]),s._v("LAPTOP-SJRR1F9B"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  USERDOMAIN_ROAMINGPROFILE: '")]),s._v("LAPTOP-SJRR1F9B"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  USERNAME: \"an'")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n  USERPROFILE: "')]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("an"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'an'")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s\",\n  windir: '")]),s._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WSLENV: '")]),s._v("WT_SESSION::WT_PROFILE_ID"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WT_PROFILE_ID: '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("61c54bbd-c2c6-5271-96e7-009a87ff44bf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("',\n  WT_SESSION: '")]),s._v("c3446c12-acdd-4394-a99c-f7ca3c3b8b3e'\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),n("p",[s._v("é‚£ä¹ˆ "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" æ€ä¹ˆé…ç½® â“")]),s._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"title"}),n("p",[s._v("æ‰‹åŠ¨å°† "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" è®¾ç½®ä¸º "),n("code",[s._v("production")]),s._v(" åï¼Œæ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šå¤„äºæ­£å¼ç¯å¢ƒä¸­ã€‚\næ­¤æ—¶ä½¿ç”¨å‘½ä»¤ "),n("code",[s._v("npm install")]),s._v(" ä¸‹è½½ä¾èµ–åŒ…æ—¶ï¼Œåªä¼šæŠŠ package.json ä¸­çš„ dependencies ä¾èµ–é¡¹ä¸‹è½½ä¸‹æ¥, å¯¹äºdevDependenciesä¸­çš„ä¾èµ–åŒ…æ˜¯ä¸‹è½½ä¸ä¸‹æ¥çš„ã€‚")])]),n("p",[s._v("ä¸€èˆ¬ä¸ç”¨å»ç‰¹æ„æ‰‹åŠ¨é…ç½®å®ƒ, å®ƒæ˜¯ä¸€ä¸ªä¸è¿›ç¨‹ç›¸å…³çš„ç”¨æˆ·è‡ªå®šä¹‰ç¯å¢ƒå˜é‡, åªéœ€è¦çŸ¥é“ webpack æŒ‡å®š mode ä¼šè‡ªåŠ¨åœ°é…ç½® "),n("code",[s._v("DefinePlugin")]),s._v(",\nè€Œ "),n("code",[s._v("DefinePlugin")]),s._v(" ä¼šåœ¨ç¼–è¯‘æ—¶å¸®æˆ‘ä»¬è®¾ç½®è¿™ä¸ªè¿›ç¨‹çš„ "),n("code",[s._v("process.env.NODE_ENV")]),s._v(" å³å¯, åŒæ ·åƒ vue-cli è¿™æ ·çš„è„šæ‰‹æ¶å†…éƒ¨ä¹Ÿå¸®æˆ‘ä»¬å¤„ç†å¥½äº†ã€‚")]),s._v(" "),n("p",[s._v("å¦‚æœå®åœ¨æƒ³æ‰‹åŠ¨é…ç½®, å°±ç™¾åº¦å§, æœ‰ç‚¹æ‡’, ä¸æƒ³å†™...... ğŸŒ‘ ğŸŒ•")]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("é¡ºå¸¦æä¸€å˜´")]),n("p",[n("code",[s._v("process.argv")]),s._v(" æ˜¯ä¸€ä¸ªæ¥æ”¶é€šè¿‡å‘½ä»¤æ‰§è¡Œ node ç¨‹åºæ—¶å€™æ‰€ä¼ å…¥å‚æ•°çš„æ•°ç»„ã€‚")])])])}),[],!1,null,null,null);t.default=e.exports}}]);