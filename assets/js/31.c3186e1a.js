(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{619:function(t,s,a){"use strict";a.r(s);var e=a(5),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lemonnuu/PicGoPictureBed/markdown/webpack/0004-webpack%E5%AE%98%E7%BD%91%E5%9B%BE.png",alt:"0004-webpack官网图"}})]),t._v(" "),a("h2",{attrs:{id:"webpack初体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack初体验"}},[t._v("#")]),t._v(" webpack初体验")]),t._v(" "),a("p",[t._v("当搭建好 webpack 环境后, 就可以利用 webpack 来打包项目资源了。假设工程目录如下:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("├── node_modules\n├── index.js\n├── package.json\n")])])]),a("p",[t._v("运行 "),a("code",[t._v("npx webpack ./index.js")]),t._v(" 即可以 "),a("code",[t._v("index.js")]),t._v(" 为入口文件进行打包, 打包后工程目录为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("├── dist\n   ├── main.js       # webpack 打包输出文件\n├── node_modules\n├── index.js\n├── package.json\n")])])]),a("p",[t._v("打包主要输出文件的默认值为 "),a("code",[t._v("./dist/main.js")])]),t._v(" "),a("h2",{attrs:{id:"webpack配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置文件"}},[t._v("#")]),t._v(" webpack配置文件")]),t._v(" "),a("p",[t._v("当命令行不指定打包入口时, 将需要用到 webpack 配置文件。\n从 v4.0.0 版本开始, webpack 拥有默认配置文件, 可以不用再引入一个配置文件来打包项目, 但默认配置往往不满足实际运用场景。")]),t._v(" "),a("h3",{attrs:{id:"webpack默认配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack默认配置文件"}},[t._v("#")]),t._v(" webpack默认配置文件")]),t._v(" "),a("p",[a("strong",[t._v("webpack 配置文件名默认为 "),a("code",[t._v("webpack.config.json")]),t._v(", 尽可能使用它。")])]),t._v(" "),a("p",[t._v("如果需要以其他文件为配置文件进行打包, 需要配置 "),a("code",[t._v("config")]),t._v(" 参数, 如")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("npx webpack --config webpackconfig.js\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"},[t._v("webpack默认配置:")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("由于 webpack 是基于 node 的, 须采用 CommonJS 规范导出配置文件")])]),a("p",[t._v("当采用 webpack 默认配置时, 入口起点为 "),a("code",[t._v("./src/index.js")]),t._v(", 主要输出文件为 "),a("code",[t._v("./dist/main.js")]),t._v(",\n其他生成文件默认放置在 "),a("code",[t._v("./dist")]),t._v(" 文件夹中。")]),t._v(" "),a("p",[t._v("如果不指定 mode, 将默认以 "),a("code",[t._v("production")]),t._v(" 生产环境打包。")]),t._v(" "),a("h3",{attrs:{id:"webpack利用配置文件打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack利用配置文件打包"}},[t._v("#")]),t._v(" webpack利用配置文件打包")]),t._v(" "),a("p",[t._v("webpack利用配置文件打包的方式有两种:")]),t._v(" "),a("ul",[a("li",[t._v("利用 npx 打包")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("npx webpack\n")])])]),a("ul",[a("li",[t._v("利用 npm scripts 形式, 在 package.json 中声明脚本, 然后运行 "),a("code",[t._v("npm run xxx")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack-demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"爪哈"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"webpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.72.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"webpack-cli"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.9.2"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"title"}),a("p",[t._v("在不添加 loader 的情况下, webpack 只能理解 JavaScript 和 JSON 文件，这是 webpack 开箱可用的自带能力, 并不能理解其他任何类型的文件。")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"title"}),a("p",[a("strong",[t._v("注意：webpack 不会更改代码中除 "),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("export")]),t._v(" 语句以外的部分, 如果需要使用其他 ES6 特性, 必须确保在 webapck 的 loader 系统中使用了一个像是 Babel 的 转译器。")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);